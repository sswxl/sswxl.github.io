---
layout: post
title: Jekyll 中文文档

---

# [Jekyll 文档](https://www.jekyll.com.cn/docs/)

## 帖子文件夹[固定链接](https://jekyllrb.com/docs/posts/#the-posts-folder)

该`_posts`文件夹是您博客文章所在的位置。您通常在[Markdown中](https://daringfireball.net/projects/markdown/)撰写文章，也支持HTML。

## 创建帖子[固定链接](https://jekyllrb.com/docs/posts/#creating-posts)

要创建帖子，请`_posts`使用以下格式将文件添加到目录中：

```
YEAR-MONTH-DAY-title.MARKUP
```

其中`YEAR`是一个四位数的数字，`MONTH`并且`DAY`都是两位数的数字，并且`MARKUP`是表示文件中使用的格式的文件扩展名。例如，以下是有效的帖子文件名的示例：

```
2011-12-31-new-years-eve-is-awesome.md
2012-09-12-how-to-write-a-blog.md
```

所有博客文章文件都必须以[前置事项](https://jekyllrb.com/docs/front-matter/)开头，[前置事项](https://jekyllrb.com/docs/front-matter/)通常用于设置[布局](https://jekyllrb.com/docs/layouts/)或其他元数据。对于一个简单的示例，它可以为空：

```
---
layout: post
title:  "Welcome to Jekyll!"
---
```

### 标签[固定链接](https://jekyllrb.com/docs/posts/#tags)

帖子的标签是在帖子的前面使用`tag`单个条目或`tags`多个条目的键定义的 。
由于Jekyll希望将多个项目映射到该键`tags`，因此 如果包含空格，它将自动*拆分*一个字符串条目。例如，尽管前物 `tag: classic hollywood`将被处理为单个实体 `"classic hollywood"`，但前物`tags: classic hollywood`将被处理为条目数组`["classic", "hollywood"]`。

## 包括图片和资源[固定链接](https://jekyllrb.com/docs/posts/#including-images-and-resources)

在某些时候，您将希望在文字内容中包含图片，下载或其他数字资产。一种常见的解决方案是在项目目录的根目录中创建一个名为的文件夹，该文件夹中`assets`会放置任何图像，文件或其他资源。然后，可以从任何帖子中将它们链接到，使用站点的根目录作为资产包含的路径。最好的方法取决于网站的（子）域和路径的配置方式，但是下面是Markdown中的一些简单示例：

在帖子中添加图片资产：

```
... which is shown in the screenshot below:
![My helpful screenshot](/assets/screenshot.jpg)
```

链接到PDF以供读者下载：

```c
... you can [get the PDF](/assets/mydoc.pdf) directly.
```

### 分类目录[固定链接](https://jekyllrb.com/docs/posts/#categories)

帖子的类别类似于上面的标签：

与标签不同，帖子的类别也可以通过帖子的文件路径来定义。上面的任何目录`_post`都将作为一个类别进行读取。例如，如果某个帖子位于path `movies/horror/_posts/2019-05-21-bride-of-chucky.markdown`，则`movies`和`horror`将自动注册为该帖子的类别。

## 发表摘录[固定链接](https://jekyllrb.com/docs/posts/#post-excerpts)

您可以使用帖子上的`excerpt`变量来访问帖子内容的摘要。默认情况下，这是帖子中内容的第一段，但是可以通过`excerpt_separator`在前件或中设置变量 来对其进行自定义`_config.yml`。

## 草稿[固定链接](https://jekyllrb.com/docs/posts/#drafts)

草稿是文件名中没有日期的帖子。它们是您仍在处理的帖子，尚不希望发布。要启动并运行草稿，请`_drafts`在网站的根目录中创建一个文件夹并创建第一个草稿：

```
.
├── _drafts
│   └── a-draft-post.md
...
```

# 前事

Jekyll将任何包含[YAML](https://yaml.org/)前事块的文件作为特殊文件进行处理。最重要的事情必须是文件中的第一件事，并且必须采取在三点划线之间设置的有效YAML的形式。这是一个基本示例：

```
---
layout: post
title: Blogging Like a Hacker
---
```

在这些三点虚线之间，您可以设置预定义的变量（请参阅下面的参考），甚至可以创建自己的自定义变量。然后，您可以使用Liquid变量访问这些变量，这些变量不仅可以在文件中使用，还可以在文件中以及所涉及页面或帖子所依赖的任何布局中包括。

##### UTF-8字符编码警告

如果使用UTF-8编码，请确保文件中没有`BOM`标题字符，否则Jekyll会发生非常非常糟糕的事情。如果您[在Windows上](https://jekyllrb.com/docs/installation/windows/)运行[Jekyll，](https://jekyllrb.com/docs/installation/windows/)则这一点尤其重要 。

##### 前项变量是可选的

 不需要任何东西，那就把它留空！**一组三点划线，中间没有任何内容，**仍然可以使Jekyll处理您的文件。（这对于CSS和RSS提要非常有用！）

## 预定义的全局变量[固定链接](https://jekyllrb.com/docs/front-matter/#predefined-global-variables)

您可以在页面或帖子的开头设置许多预定义的全局变量。

| 变量        | 描述                                                         |
| ----------- | ------------------------------------------------------------ |
| `layout`    | 如果设置，则指定要使用的布局文件。使用不带文件扩展名的布局文件名。布局文件必须放在 `_layouts`目录中。使用`null`将生成一个文件，而不使用布局文件。如果该文件是一个post / document，并且其布局是在[ fronts defaults中](https://jekyllrb.com/docs/configuration/front-matter-defaults/)定义的，则覆盖此[设置](https://jekyllrb.com/docs/configuration/front-matter-defaults/)。从3.5.0版开始，`none`无论前端默认情况如何，在帖子/文档中使用都将生成文件而无需使用布局文件。`none`在页面中使用将导致Jekyll尝试使用名为“ none”的布局。 |
| `permalink` | 如果您需要将处理后的博客文章URL设置为网站范围以外的样式（默认为`/year/month/day/title.html`），则可以设置此变量，并将其用作最终URL。 |
| `published` | 如果您不希望在生成网站时显示特定帖子，则设置为false。        |

## 帖子的预定义变量[固定链接](https://jekyllrb.com/docs/front-matter/#predefined-variables-for-posts)

这些都是开箱即用的，可用于帖子的前件。

| 变量                 | 描述                                                         |
| -------------------- | ------------------------------------------------------------ |
| `date`               | 这里的日期会覆盖帖子名称中的日期。这可以用来确保帖子的正确排序。日期以格式指定`YYYY-MM-DD HH:MM:SS +/-TTTT`；小时，分钟，秒和时区偏移是可选的。 |
| `categorycategories` | 您可以指定帖子所属的一个或多个类别，而不是将帖子放置在文件夹内。生成站点后，该帖子将像正常情况下使用这些类别进行设置一样。类别（复数键）可以指定为[YAML列表](https://en.wikipedia.org/wiki/YAML#Basic_components)或以空格分隔的字符串。 |
| `tags`               | 与类别相似，可以将一个或多个标签添加到帖子中。与类别一样，标记也可以指定为[YAML列表](https://en.wikipedia.org/wiki/YAML#Basic_components)或**以空格分隔的字符串。** |

# 目录结构

一个基本的Jekyll网站通常看起来像这样：

```
.
├── _config.yml
├── _data
│   └── members.yml
├── _drafts
│   ├── begin-with-the-crazy-ideas.md
│   └── on-simplicity-in-technology.md
├── _includes
│   ├── footer.html
│   └── header.html
├── _layouts
│   ├── default.html
│   └── post.html
├── _posts
│   ├── 2007-10-29-why-every-programmer-should-play-nethack.md
│   └── 2009-04-26-barcamp-boston-4-roundup.md
├── _sass
│   ├── _base.scss
│   └── _layout.scss
├── _site
├── .jekyll-metadata
└── index.html # can also be an 'index.md' with valid front matter
```

这些功能的概述：

| 文件/目录                                      | 描述                                                         |
| ---------------------------------------------- | ------------------------------------------------------------ |
| `_config.yml`                                  | 存储[配置](https://jekyllrb.com/docs/configuration/)数据。这些选项中的许多都可以从命令行可执行文件中指定，但是在此处指定它们更容易，因此您不必记住它们。 |
| `_drafts`                                      | 草稿是未发布的帖子。这些文件的格式没有日期：`title.MARKUP`。了解如何[ 使用草稿](https://jekyllrb.com/docs/posts/#drafts)。 |
| `_includes`                                    | 这些部分可以与您的布局和帖子混合并匹配，以方便重用。液体标签 `{% include file.ext %}` 可用于在中包含部分内容 `_includes/file.ext`。 |
| `_layouts`                                     | 这些是包裹帖子的模板。布局是[在前件中](https://jekyllrb.com/docs/front-matter/)逐个选择的 ，这将在下一部分中进行描述。液体标签 `{{ content }}` 用于将内容注入网页。 |
| `_posts`                                       | 您的动态内容可以这么说。这些文件的命名约定很重要，并且必须遵循以下格式： `YEAR-MONTH-DAY-title.MARKUP`。将[固定链接](https://jekyllrb.com/docs/permalinks/)可以自定义每个岗位，但日期和标记语言是通过文件名来决定。 |
| `_data`                                        | 格式正确的站点数据应放在此处。该化身引擎会自动加载的所有数据文件（使用的`.yml`， `.yaml`，`.json`，`.csv`或 `.tsv`此目录中的格式和扩展），他们将通过`site.data`访问。如果`members.yml`目录下有文件 ，则可以通过访问文件内容`site.data.members`。 |
| `_sass`                                        | 这些是sass部分，可以将其导入到您的文档中，`main.scss` 然后将其处理为单个样式表`main.css`，该样式表 定义了您的网站要使用的样式。 |
| `_site`                                        | Jekyll完成转换后，将在此放置生成的网站（默认情况下）。将其添加到`.gitignore`文件中可能是一个好主意。 |
| `.jekyll-metadata`                             | 这有助于Jekyll跟踪自上次构建站点以来尚未修改哪些文件，以及在下一个构建中需要重新生成哪些文件。该文件将不包含在生成的站点中。将其添加到`.gitignore`文件中可能是一个好主意 。 |
| `index.html`或`index.md`其他HTML，Markdown文件 | 前提是该文件具有最[重要的](https://jekyllrb.com/docs/front-matter/)部分，它将由Jekyll进行转换。这同样会发生任何`.html`，`.markdown`， `.md`或`.textile`在您的网站的根目录或目录上面没有列出的文件。 |
| 其他文件/文件夹                                | 除上面列出的特殊情况外，所有其他目录和文件（例如`css`和`images`文件夹， `favicon.ico`文件等）都将原样复制到生成的站点。如果您想知道它们的布局，[已经](https://jekyllrb.com/showcase/)有很多[站点在使用Jekyll](https://jekyllrb.com/showcase/)。 |

# 固定链接

永久链接是页面，帖子或收藏集的输出路径。它们允许您构造源代码的目录，而不是输出中的目录。

## 前事[固定链接](https://jekyllrb.com/docs/permalinks/#front-matter)

设置固定链接的最简单方法是使用前置物。您可以将`permalink`前面的变量设置 为所需的输出路径。

例如，您的网站上可能有一个页面位于， `/my_pages/about-me.html`并且您希望输出URL为`/about/`。在页面的前面，您需要设置：

```
---
permalink: /about/
---
```

## 全球[固定链接](https://jekyllrb.com/docs/permalinks/#global)

在您网站上每个页面的首页设置永久链接是没有意思的。幸运的是，Jekyll允许您在中全局设置永久链接结构`_config.yml`。

要设置全局永久链接，请使用中的`permalink`变量`_config.yml`。您可以将占位符用于所需的输出。例如：

```
permalink: /:categories/:year/:month/:day/:title:output_ext
```

请注意，页面和集合（不包括`posts`和`drafts`）没有时间和类别（对于页面，上述`:title`等价于`:basename`），因此永久链接样式的这些方面将被忽略。

例如，`/:categories/:year/:month/:day/:title:output_ext`该`posts`集合的永久链接样式变为 `/:title.html`页面和集合（`posts`和除外`drafts`）的样式 。